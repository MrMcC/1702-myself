<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <script src="js/vue.js"></script>
    <style>
        .table-self{
            margin-top: 60px;
        }
    </style>
</head>
<body>
    <div id="app" class="container">
        <h1>{{model.name}}待办事项
            <!--没找到-->
            <span class="label label-default" :class="{'label-warning': count>2,'label-success': count<=2}">{{count}}</span>
        </h1>
        <hr>
        <div class="input-group">
            <input type="text" placeholder="请添加任务" class="form-control" v-model="cInput">
            <!--没找到-->
            <span class="input-group-btn">
                <button class="btn btn-default btn-success" @click="add()">添加</button>
            </span>
        </div>
        <table class="table table-striped table-self">
            <tr>
                <th>详情内容</th>
                <th>是否完成</th>
                <th>&nbsp;</th>
                <th>删除</th>
            </tr>
            <tr v-for="item in model.arr">
                <td>{{item.content}}</td>
                <td><input type="checkbox" v-model="item.done"></td>
                <td>{{item.done}}</td>
                <td><button class="btn btn-default" @click="del(item)">删除</button></td>
            </tr>
        </table>
    </div>
</body>
<script>
    var vm = new Vue({
        el: "#app",
        data:{
            model: {
                name: 'McC',
                arr: [
                    {content: '买菜', done: false},
                    {content: '做饭', done: false},
                    {content: '给李四打电话', done: false}
                ]
            },
            cInput: "",
        },
        methods:{
            add(){
                var obj = {
                    content: this.cInput,
                    done: false
                }
                this.model.arr.push(obj)
                this.cInput = ""
            },
            del(obj){
                this.model.arr.splice(this.model.arr.indexOf(obj),1)
            },
//            count(){
//                return this.model.arr.filter(item=>!item.done).length
//            }
        },
        computed:{
            count(){
                return this.model.arr.filter(item=>!item.done).length
            }
        }
    })
</script>
</html>