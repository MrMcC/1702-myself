<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;padding: 0;
			}
			#bannerAds{
				margin: 100px 100px;
			}
			#small{
				width: 170px;height: 170px;position: relative;
				/*border: 1px solid #000000;*/
				float: left;
			}
			#small > div{
				width: 70px;height: 70px;opacity: .4;background: yellow;position: absolute;
				left: 0;top: 0;
				display: none;
			}
			#small img{
				width: 100%;height: 100%;
			}
			#big{
				float: left;width: 220px;height: 220px;overflow: hidden;
				/*border: 1px solid #000000;*/
				display: none;position: relative;
			}
			#big img{
				position: absolute;left: 0;top: 0;
			}
		</style>
	</head>
	<body>
		<div id="bannerAds">
			<div id="small">
				<img src="img/shirt_1.jpg"/>
				<div id="popup"></div>
			</div>
			<div id="big">
				<img src="img/shirt_1_big.jpg" id="bigImg"/>
			</div>
		</div>
		<script type="text/javascript">
			var small = document.getElementById("small")
			var big = document.getElementById("big")
			var popup = document.getElementById("popup")
			var bigImgs = document.getElementById("bigImg")
			
			small.onmouseenter = function(){
				popup.style.display = "block";
				big.style.display = "block";
			}
			small.onmouseleave = function(){
				popup.style.display = "none";
				big.style.display = "none";
			}
			small.onmousemove = function(e){
				var left =e.clientX - small.offsetLeft - popup.offsetWidth / 2
				var top =e.clientY - small.offsetTop - popup.offsetHeight / 2
				var maxLeft = small.offsetWidth - popup.offsetWidth;
				var maxTop = small.offsetHeight - popup.offsetHeight;
				left = left <= 0 ? 0 : left;
				top = top <= 0 ? 0 : top;
				left = left >= maxLeft ? maxLeft : left;
				top = top >= maxTop ? maxTop : top;
				
				popup.style.left = left + "px";
				popup.style.top = top + "px";
				
				bigImgs.style.left = -popup.offsetLeft / maxLeft * (bigImgs.offsetWidth - big.offsetWidth) + "px";
				bigImgs.style.top = -popup.offsetTop / maxTop * (bigImgs.offsetHeight - big.offsetHeight) + "px";
				
				
			}
		</script>
	</body>
</html>
