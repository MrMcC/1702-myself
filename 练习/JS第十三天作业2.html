<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;padding: 0;
			}
			#calendar{
				width: 700px;
				text-align: center;margin: 100px auto;
			}
			ul{
				list-style: none;
			}
			ul li{
				width: 100px;height: 50px;background-color: lightgray;
				text-align: center;line-height: 50px;float: left;
				border: 1px solid ghostwhite;box-sizing: border-box;
			}
			ul#days li{
				background-color: white;
			}
			ul#days li:hover{
				background-color: lightgray;
			}
		</style>
	</head>
	<body>
		<div id="calendar">
			<select id="year">
				
			</select>年
			<select id="month">

			</select>月
			<ul id="ds">
				<li>星期日</li>
				<li>星期一</li>
				<li>星期二</li>
				<li>星期三</li>
				<li>星期四</li>
				<li>星期五</li>
				<li>星期六</li>
			</ul>
			<ul id="days"></ul>
		</div>
		<script type="text/javascript">
			var yearSelect = document.getElementById("year")
			var monthSelect = document.getElementById("month")
			var days = document.getElementById("days")
			for(var year = 1900;year <= 3000;year++ ){
				creatOpt(year,year,yearSelect)
			}
			for(var month = 1;month <= 12;month++ ){
				creatOpt(month,month,monthSelect)
			}
			function creatOpt(value,text,selector){
				
				var opt = document.createElement("option")
				opt.value = value;
				opt.innerHTML = text;
				selector.appendChild(opt);
			}
			var date = new Date();
			yearSelect.value = date.getFullYear();
			monthSelect.value = date.getMonth()+1;
			showDays(yearSelect.value,monthSelect.value)
			
			yearSelect.onchange = function(){
				showDays(yearSelect.value,monthSelect.value)
			}
			monthSelect.onchange = function(){
				showDays(yearSelect.value,monthSelect.value)
			}
			
			function showDays(year,month){
				days.innerHTML = ""
				var date = new Date(year,month-1,1);
				var dayCount = date.getDay();
				for(var i = 0; i < dayCount;i++){
					let li = creatLi("",days);
					li.onmousemove = function(){
						li.style.backgroundColor = "white"
					}
				}
				var d = new Date(year,month,0);
				var day = d.getDate();
				for(var i = 1; i <= day; i++){
					creatLi(i,days)
				}
			}
			
			function creatLi(text,parent){
				var li = document.createElement("li");
				li.innerHTML = text;
				parent.appendChild(li)
				return li;
			}
		</script>
	</body>
</html>
