<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        canvas{
            border: 1px solid #000;
        }
    </style>
</head>
<body>
<canvas id="canvas" width="600" height="600"></canvas>
<script>
    function draw() {
        var canvas = document.querySelector("#canvas")
        if(!canvas.getContext) return;
        var ctx = canvas.getContext("2d");

        ctx.save();
        ctx.beginPath();
        ctx.fillStyle = "#ff0000";
        ctx.fillRect(0,0,200,200);
//        ctx.globalCompositeOperation = "source-over";
//        ctx.globalCompositeOperation = "source-in";
//        ctx.globalCompositeOperation = "source-atop";
//        ctx.globalCompositeOperation = "destination-over";
//        ctx.globalCompositeOperation = "destination-in";
//        ctx.globalCompositeOperation = "destination-out";
//        ctx.globalCompositeOperation = "destination-atop";
        ctx.globalCompositeOperation = "lighter";
//        ctx.globalCompositeOperation = "darken";
//        ctx.globalCompositeOperation = "lighten";
//        ctx.globalCompositeOperation = "xor";
//        ctx.globalCompositeOperation = "copy";
        ctx.fillStyle = "#00ff00";
        ctx.fillRect(100,100,200,200);
        ctx.restore();

        ctx.beginPath();
        ctx.translate(300,300);
//        ctx.arc(0,0,100,0,2*Math.PI);
//        ctx.clip();    // 用前面的裁剪后面的 后面的会填充前面的
////        ctx.stroke();
//        ctx.beginPath();
//        ctx.fillStyle = "purple";
//        ctx.fillRect(-150,-150,300,300);
//
        ctx.beginPath();
        ctx.moveTo(0,0);
        ctx.lineTo(200,0);
        ctx.lineTo(150,50);
        ctx.closePath();
//        ctx.stroke();
        ctx.clip();
        ctx.fillRect(-150,-150,300,300);
    }
    draw()
</script>
</body>
</html>